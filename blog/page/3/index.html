
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Adam Speakman</title>
	<meta name="author" content="Adam">

	
	<meta name="description" content="Not much in the way of code this week; work’s been a bit hectic, and I had a wedding to attend on Saturday. I did write a post on avoiding an &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Adam Speakman" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Adam Speakman</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
    <li><a href="/about">About</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
    <li><a href="/about">About</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:adamsp.github.com/speakman-website">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		<a class="google" href="https://plus.google.com/+AdamSpeakman?rel=author" title="Google+">Google+</a>
		
		
		<a class="twitter" href="http://twitter.com/adamsnz" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/adamsp" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:adamsp.github.com/speakman-website">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/11/11/20-things-week-7/">
		
			20 Things, Week 7</a>
	</h2>
	<div class="entry-content">
		<p>Not much in the way of code this week; work’s been a bit hectic, and I had a wedding to attend on Saturday. I did write a post on <a href="/blog/2013/11/10/handling-outofmemoryerror-with-large-bitmaps-on-older-android-devices/">avoiding an OutOfMemoryError on older Android devices when displaying large bitmaps</a>.</p>

<p>Speaking of that wedding, it was the one I was going to make a website for - guess that won’t be happening, then&#8230; oops.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-11-11T18:55:00-05:00" pubdate data-updated="true">Nov 11<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/20-things-20-weeks/'>20-things-20-weeks</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/11/10/handling-outofmemoryerror-with-large-bitmaps-on-older-android-devices/">
		
			Handling OutOfMemoryError with large bitmaps on older Android devices</a>
	</h2>
	<div class="entry-content">
		<p>If you&#8217;ve ever worked with bitmaps on an Android device before, you&#8217;ve <a href="http://stackoverflow.com/questions/477572/strange-out-of-memory-issue-while-loading-an-image-to-a-bitmap-object">likely</a> <a href="http://stackoverflow.com/questions/14235287/suggestions-to-avoid-bitmap-out-of-memory-error?lq=1">encountered</a> the <a href="https://code.google.com/p/android/issues/detail?id=8488">dreaded</a> <code>OutOfMemoryError</code> &#8216;bitmap size exceeds VM budget&#8217;. This issue can present itself immediately when testing, however on older devices it may not manifest except in certain cases. The reason for this is as follows:</p>

<blockquote><p>In addition, prior to Android 3.0 (API Level 11), the backing data of a bitmap was stored in native memory which is not released in a predictable manner, potentially causing an application to briefly exceed its memory limits and crash.</p><footer><strong>Android Developer Documentation</strong> <cite><a href='http://developer.android.com/training/displaying-bitmaps/cache-bitmap.html'>developer.android.com/training/&hellip;</a></cite></footer></blockquote>


<p>Depending on what you&#8217;re doing, there is a way to get around this.</p>


		
		<a href="/blog/2013/11/10/handling-outofmemoryerror-with-large-bitmaps-on-older-android-devices/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-11-10T12:42:00-05:00" pubdate data-updated="true">Nov 10<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/20-things-20-weeks/'>20-things-20-weeks</a>, <a class='category' href='/blog/categories/android/'>android</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/11/04/20-things-week-6/">
		
			20 Things, Week 6</a>
	</h2>
	<div class="entry-content">
		<p>In case you missed it, the <a href="https://play.google.com/store/apps/details?id=nz.net.speakman.android.dreamintweets">Android Daydream</a> I linked to in <a href="/blog/2013/10/28/20-things-week-5/">last weeks</a> post didn’t actually go up until Wednesday - and the blog post (though dated Monday October 28, when I wrote it) didn’t go up until Tuesday. It was quite late on Monday, and the OS X Mavericks update meant my usual site deployment procedure (<code>rake generate</code>, <code>rake deploy</code>) didn’t work. I had to run <code>rake</code> as sudo for some reason (suspect it was something to do with Ruby in the new OS X?), which changed read permissions on everything, then when I tried to deploy, I had to do it as sudo again, and my Github SSH key is for my user, so that didn’t work. I gave up for the evening and went to bed. I managed to revert everything on Tuesday night, and I’m back to my regular deployment process.</p>


		
		<a href="/blog/2013/11/04/20-things-week-6/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-11-04T21:12:00-05:00" pubdate data-updated="true">Nov 4<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/20-things-20-weeks/'>20-things-20-weeks</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/28/20-things-week-5/">
		
			20 Things, Week 5</a>
	</h2>
	<div class="entry-content">
		<p>This week I wrote <a href="https://play.google.com/store/apps/details?id=nz.net.speakman.android.dreamintweets">Dream in Tweets</a>, which is an Android Daydream that shows the logged in users Twitter feed. A Daydream is effectively a screen saver that runs on Android 4.2 and up. But unlike a screensaver, it can do everything you can do in a regular Activity.</p>

<p>I used a bit of what I had already written for Feather to create this, but I’ve spent most of today working on things like respecting the <a href="https://dev.twitter.com/terms/display-requirements">Twitter Display Requirements</a>. I’ll be able to reuse almost everything in Feather.</p>


		
		<a href="/blog/2013/10/28/20-things-week-5/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-10-28T20:07:00-04:00" pubdate data-updated="true">Oct 28<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/20-things-20-weeks/'>20-things-20-weeks</a>, <a class='category' href='/blog/categories/android/'>android</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/21/20-things-week-4/">
		
			20 Things, Week 4</a>
	</h2>
	<div class="entry-content">
		<p>This week I&#8217;ve done a fair bit of work. I just finished a blog post on <a href="/blog/2013/10/21/android-currency-localisation-hell/">Currency localisation</a> which I&#8217;ve had on the back burner for some time - now I remember why, even writing that post gave me a headache. Currency formatting is a giant mess, as the formatting tables for most locales are pretty incomplete.</p>

<p>I&#8217;ve also made some significant progress on Feather (my Twitter app). It now loads a timeline feed and a mentions feed, and saves &amp; loads those to a local database so that they&#8217;re pre-populated with the most recent data received when you first load the app. It can also post a new tweet (just a very basic <code>EditText</code> in a dialog at the moment), as well as Favourite/Unfavourite and Retweet tweets.</p>

<p>The next step with Feather is to build a proper New Tweet dialog fragment, so it can handle Replys/New Tweets/quotes/share intents. Onwards!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-10-21T21:34:00-04:00" pubdate data-updated="true">Oct 21<span>st</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/20-things-20-weeks/'>20-things-20-weeks</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/21/android-currency-localisation-hell/">
		
			Android Currency Localisation Hell</a>
	</h2>
	<div class="entry-content">
		<p>We had a customer at work recently who had a special requirement around multiple currency support in our Android app. They have cinema sites in multiple countries, and they want customers to see the correct currency symbol when viewing sessions for a site. Up until now, the app has only ever had to deal with single currencies on a per-customer (and hence per-build) basis.</p>

<p>While implementing this multiple currency support, I came across something of a problem - the Android Currency code doesn&#8217;t behave quite as you&#8217;d hope, and is inconsistent across versions. Sometimes you get a currency symbol where you&#8217;re supposed to, sometimes you don&#8217;t - and sometimes the symbol is a slightly different symbol in one locale to that which is in another (￥, I&#8217;m looking at you). I&#8217;ve now got a set of <a href="https://github.com/adamsp/CurrencyFormattingDemo">test cases</a> which do a fair job of explaining the issue, as well as the solution we came up with which <em>mostly</em> works.</p>


		
		<a href="/blog/2013/10/21/android-currency-localisation-hell/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-10-21T17:45:00-04:00" pubdate data-updated="true">Oct 21<span>st</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/20-things-20-weeks/'>20-things-20-weeks</a>, <a class='category' href='/blog/categories/android/'>android</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/14/20-things-week-3/">
		
			20 Things, Week 3</a>
	</h2>
	<div class="entry-content">
		<p>This week I posted up a Gist showing <a href="https://gist.github.com/adamsp/6914482">how to parse WCF-serialised JSON DateTime objects in Java</a>. I&#8217;d done this at work a while ago and saw yet another question on StackOverflow asking how to do it. A quick Google showed there still wasn&#8217;t any quality examples of how to do it (there were a bunch of ways to do it, but none considered all cases), so I posted that example up.</p>

<p>Additionally, I started on my Twitter app - so far, it loads a timeline and can <a href="https://twitter.com/adamsnz/status/389641931313000448">post tweets</a>. Progress! The nice thing is a lot of what I&#8217;m doing at work at the moment can translate well to this. I&#8217;d like to have a properly usable client by next week, but we&#8217;ll see how that goes - I&#8217;m sure there&#8217;s a <em>lot</em> I haven&#8217;t considered.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-10-14T20:15:00-04:00" pubdate data-updated="true">Oct 14<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/20-things-20-weeks/'>20-things-20-weeks</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/07/20-things-week-2/">
		
			20 Things, Week 2</a>
	</h2>
	<div class="entry-content">
		<p>Week 2 has not gone so well. I&#8217;ve managed to produce what I wanted (a MultiColumnListView control for Android), but I encountered more problems than I expected. Really, I should&#8217;ve expected that. It&#8217;s software development we&#8217;re talking about here, after all.</p>


		
		<a href="/blog/2013/10/07/20-things-week-2/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-10-07T20:00:00-04:00" pubdate data-updated="true">Oct 7<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/20-things-20-weeks/'>20-things-20-weeks</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/09/30/20-things-week-1/">
		
			20 Things, Week 1</a>
	</h2>
	<div class="entry-content">
		<p>Week 1 of my 20 Things in 20 Weeks project has gone well. I&#8217;ve finished one project and made some significant progress on another. I&#8217;ve managed to work on things 4 out of 7 days this week, even if only for an hour or two. I&#8217;ve found I&#8217;ve managed to get quite a bit done every time I sit down to work for a short period; problems are easily solved when approached with a fresh mind.</p>


		
		<a href="/blog/2013/09/30/20-things-week-1/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-09-30T20:52:00-04:00" pubdate data-updated="true">Sep 30<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/20-things-20-weeks/'>20-things-20-weeks</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/09/24/android-open-source-licenses-page/">
		
			Android Open Source licenses page</a>
	</h2>
	<div class="entry-content">
		<p>Ever used an open source library in your Android app? If you have, then you <a href="http://www.tldrlegal.com/browse">probably</a> should have included a page with the license details for that library. If you did, great! You probably had the same question I did recently; how should you do that?</p>


		
		<a href="/blog/2013/09/24/android-open-source-licenses-page/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-09-24T20:49:00-04:00" pubdate data-updated="true">Sep 24<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/20-things-20-weeks/'>20-things-20-weeks</a>, <a class='category' href='/blog/categories/android/'>android</a>, <a class='category' href='/blog/categories/open-source/'>open-source</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
        <a href="/blog/page/2/" class="prev">Prev</a>
    
    
        <a href="/blog/page/4/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2017

    Adam

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->




	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-34453006-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>